{"version":3,"file":"reservationList.js","names":["userToken","blingMotorUserStatus","allReservationData","calendarData","currentEdit","tbody","document","querySelector","editReservationElement","addEventListener","e","target","classList","contains","removeCalendarElement","renderReservationDetails","id","targetYear","Date","parseInt","getFullYear","targetMonth","getMonth","getReservationCalendar","updateReservation","getAllReservation","axios","post","then","response","data","renderAllReservationData","error","console","log","str","sort","a","b","forEach","el","date","dateFormat","getDate","innerHTML","targetElement","calendarElement","remove","innerText","find","toString","dataset","bookingid","insertCalendar","createElement","setAttribute","insertBefore","parentElement","nextSibling","className","calendar","Calendar","renderEditReservation","currentQueryYear","currentQueryMonth","calanderEventListeners","alert","calendarSelected","add","selectedDate","selectedPlan","customerMsg","userEmail","userName","userPhone","bookingStatus","currentEditDate","value","bookingId","setHours","patch","msg","location","reload"],"sources":["reservationList.js"],"sourcesContent":["let userToken = blingMotorUserStatus['userInfo']['userEmail'];\r\nlet allReservationData = [];\r\nlet calendarData = {};\r\nlet currentEdit = {};\r\nlet tbody = document.querySelector('tbody');\r\nlet editReservationElement = `\r\n<div class=\"reservationItem\">\r\n    <div class=\"calendar-wrap\">\r\n        <div class=\"calendar\" id=\"calendar\"></div>\r\n\r\n        <div class=\"pickerColorGuide\">\r\n            <div class=\"pickerColorGuide-item\">\r\n                <div class=\"colorBox colorBox-red\"></div>\r\n                <p>預約已滿</p>\r\n            </div>\r\n            <div class=\"pickerColorGuide-item\">\r\n                <div class=\"colorBox colorBox-gray\"></div>\r\n                <p>可預約</p>\r\n            </div>\r\n            <div class=\"pickerColorGuide-item\">\r\n                <div class=\"colorBox colorBox-green\"></div>\r\n                <p>已選擇</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <form action=\"\" class=\"bookingDetails-form\">        \r\n        <div class=\"form-group\">\r\n            <div class=\"newBooking-input\">\r\n                <label for=\"selectedDate\">預約日期</label>\r\n                <input type=\"text\" id=\"selectedDate\" name=\"預約日期\" readonly value=\"\" class=\"form-control-plaintext\">\r\n            </div>\r\n        </div>\r\n        \r\n        <div class=\"form-group\">\r\n            <div class=\"newBooking-input\">\r\n                <label for=\"status\">預約狀態</label>\r\n                <select class=\"form-select form-select-sm\" id=\"bookingStatus\">\r\n                    <option value=\"預約成功\">預約成功</option>\r\n                    <option value=\"清洗中\">清洗中</option>\r\n                    <option value=\"待取車\">待取車</option>\r\n                    <option value=\"已完成\">已完成</option>\r\n                    <option value=\"已取消\">已取消</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n            <div class=\"newBooking-input\">\r\n                <label for=\"selectedPlan\">套裝</label>\r\n                <select class=\"form-select form-select-sm\" id=\"selectedPlan\">\r\n                    <option selected disabled>請選擇套裝</option>\r\n                    <option value=\"基礎護理\">基礎護理</option>\r\n                    <option value=\"進階鍍晶\">進階鍍晶</option>\r\n                    <option value=\"頂級鍍膜\">頂級鍍膜</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n            <div class=\"newBooking-input\">\r\n                <label for=\"customerMsg\" class=\"align-self-start\">客戶備註</label>\r\n                <textarea class=\"form-control form-control-sm\" id=\"customerMsg\" name=\"備註\" rows=\"3\" maxlength=\"100\" placeholder=\"請提供車型\"></textarea>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"bookingDetailsBtn-group\">\r\n            <input type=\"button\" class=\"btn btn-dark-200\" value=\"放棄修改\" id=\"resetEdit\">\r\n            <input type=\"button\" class=\"btn btn-primary text-white\" value=\"確認修改\" id=\"confirmEdit\">\r\n        </div>\r\n    </form>\r\n\r\n    <form action=\"\" class=\"customerInfo\">       \r\n        <div class=\"form-group\">\r\n            <div class=\"newBooking-input\">\r\n                <label for=\"userName\">客戶姓名</label>\r\n                <input type=\"text\" name=\"客戶姓名\" id=\"userName\" placeholder=\"\" disabled class=\"form-control\">\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n            <div class=\"newBooking-input\">\r\n                <label for=\"userPhone\">電話號碼</label>\r\n                <input type=\"tel\" name=\"電話號碼\" id=\"userPhone\" placeholder=\"\" disabled class=\"form-control\">\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n            <div class=\"newBooking-input\">\r\n                <label for=\"userEmail\">E-mail</label>\r\n                <input type=\"email\" name=\"E-mail\" id=\"userEmail\" placeholder=\"\" disabled class=\"form-control\">\r\n            </div>\r\n        </div>\r\n    </form>\r\n</div>`;\r\n\r\ntbody.addEventListener('click', (e) => {\r\n    if (e.target.classList.contains('opended')) {\r\n        removeCalendarElement(e.target);\r\n    } else if (e.target.classList.contains('editReservationBtn')) {\r\n        removeCalendarElement(e.target);\r\n        renderReservationDetails(e.target);\r\n    } else if (e.target.id === 'resetEdit') {\r\n        let targetYear = new Date(parseInt(currentEdit['date'])).getFullYear();\r\n        let targetMonth = new Date(parseInt(currentEdit['date'])).getMonth() + 1;\r\n        getReservationCalendar(targetYear, targetMonth);\r\n        //renderReservationDetails(currentEdit);\r\n    } else if (e.target.id === 'confirmEdit') {\r\n        updateReservation();\r\n    }\r\n})\r\n\r\nfunction getAllReservation() {\r\n    axios.post(`http://localhost:3000/api/v1/admin/allBookings`, {\r\n            'data': {\r\n                'token': userToken,\r\n            }\r\n        })\r\n        .then(response => {\r\n            allReservationData = response.data.data;\r\n            renderAllReservationData(allReservationData);\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n}\r\n\r\nfunction renderAllReservationData(data) {\r\n    let str = '';\r\n    // 按日期 未來>過去 排序\r\n    data.sort((a, b) => b['date'] - a['date']);\r\n\r\n    data.forEach(el => {\r\n        let date = new Date(parseInt(el['date']));\r\n        let dateFormat = `${date.getFullYear()}/${date.getMonth()+1}/${date.getDate()}`\r\n        str += `\r\n                <tr>\r\n                    <td>${el['id']}</td>\r\n                    <td>${dateFormat}</td>\r\n                    <td>${el['plan']}</td>\r\n                    <td>${el['userInfo']['userName']}</td>\r\n                    <td>${el['userInfo']['userPhone']}</td>\r\n                    <td class='text-start'>${el['userRemarks']}</td>\r\n                    <td>${el['status']}</td>\r\n                    <td><a href=\"#\" class=\"editReservationBtn\" data-bookingId='${el['id']}'>詳細</a></td>\r\n                </tr>\r\n            `;\r\n    });\r\n    tbody.innerHTML = str;\r\n}\r\n\r\nfunction removeCalendarElement(targetElement) {\r\n    let calendarElement = document.querySelector('#calendarElement');\r\n\r\n    //移除已打開的 '詳細' 內容     \r\n    if (calendarElement !== null) {\r\n        calendarElement.remove();\r\n    }\r\n\r\n    targetElement.innerText = '詳細';\r\n    targetElement.classList.remove(\"opended\");\r\n    currentEdit = {};\r\n}\r\n\r\nfunction renderReservationDetails(targetElement) {\r\n    currentEdit = allReservationData.find(({\r\n        id\r\n    }) => {\r\n        return id.toString() === targetElement.dataset.bookingid;\r\n    });\r\n\r\n    let insertCalendar = document.createElement('tr')\r\n    insertCalendar.setAttribute('id', 'calendarElement')\r\n\r\n    tbody.insertBefore(insertCalendar, targetElement.parentElement.parentElement.nextSibling);\r\n    insertCalendar.innerHTML = `<td colspan='8'>${editReservationElement}</td>`;\r\n\r\n    let targetYear = new Date(parseInt(currentEdit['date'])).getFullYear();\r\n    let targetMonth = new Date(parseInt(currentEdit['date'])).getMonth() + 1;\r\n    getReservationCalendar(targetYear, targetMonth);\r\n\r\n    targetElement.innerText = '關閉';\r\n    targetElement.className += ' opended';\r\n}\r\n\r\nfunction getReservationCalendar(targetYear, targetMonth) {\r\n    axios.post(`http://localhost:3000/api/v1/admin/calendar`, {\r\n            'data': {\r\n                'token': userToken,\r\n                'calendar': {\r\n                    'year': targetYear.toString(),\r\n                    'month': targetMonth.toString(),\r\n                }\r\n            }\r\n        })\r\n        .then(response => {\r\n            calendarData = response.data.data;\r\n            const calendar = new Calendar(calendarData);\r\n            renderEditReservation(currentEdit);\r\n\r\n            currentQueryYear = parseInt(calendarData['year']);\r\n            currentQueryMonth = parseInt(calendarData['month']);\r\n            calanderEventListeners(getReservationCalendar);\r\n        })\r\n        .catch(error => {\r\n            alert(error.response.data.data['msg'])\r\n        });\r\n}\r\n\r\nfunction renderEditReservation(currentEdit) {\r\n    let calendarSelected = document.querySelector(`[data-date=\"${parseInt(currentEdit['date'])}\"]`);\r\n    if (calendarSelected !== null) {\r\n        calendarSelected.classList.add('dateInners-selected');\r\n    }\r\n\r\n    let selectedDate = document.querySelector('#selectedDate');\r\n    let selectedPlan = document.querySelector('#selectedPlan');\r\n    let customerMsg = document.querySelector('#customerMsg');\r\n    let userEmail = document.querySelector('#userEmail');\r\n    let userName = document.querySelector('#userName');\r\n    let userPhone = document.querySelector('#userPhone');\r\n    let bookingStatus = document.querySelector('#bookingStatus');\r\n\r\n    let currentEditDate = new Date(parseInt(currentEdit['date']));\r\n    let dateFormat = `${currentEditDate.getFullYear()} / ${currentEditDate.getMonth() + 1} / ${currentEditDate.getDate()}`\r\n\r\n    selectedDate.value = dateFormat;\r\n    selectedPlan.value = currentEdit['plan'];\r\n    bookingStatus.value = currentEdit['status'];\r\n    customerMsg.value = currentEdit['userRemarks'];\r\n    userEmail.value = currentEdit['userInfo']['userEmail'];\r\n    userName.value = currentEdit['userInfo']['userName'];\r\n    userPhone.value = currentEdit['userInfo']['userPhone'];\r\n}\r\n\r\nfunction updateReservation() {\r\n    let bookingId = currentEdit['id'];\r\n    let selectedDate = new Date(document.querySelector('#selectedDate').value).setHours(0, 0, 0, 0).toString();\r\n    let selectedPlan = document.querySelector('#selectedPlan').value;\r\n    let customerMsg = document.querySelector('#customerMsg').value;\r\n    let bookingStatus = document.querySelector('#bookingStatus').value;\r\n\r\n    if (selectedDate !== currentEdit['date'] || selectedPlan !== currentEdit['plan'] || customerMsg !== currentEdit['userRemarks'] || bookingStatus !== currentEdit['status']) {\r\n        axios.patch(`http://localhost:3000/api/v1/admin/allBookings`, {\r\n                'data': {\r\n                    'token': userToken,\r\n                    'bookingId': bookingId,\r\n                    'newBookingInfo': {\r\n                        \"date\": selectedDate,\r\n                        \"plan\": selectedPlan,\r\n                        \"userRemarks\": customerMsg,\r\n                        \"status\": bookingStatus\r\n                    }\r\n                }\r\n            })\r\n            .then(response => {\r\n                alert(response.data.data.msg);\r\n                location.reload();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n    } else {\r\n        alert('無修改');\r\n    }\r\n}\r\n\r\ngetAllReservation();"],"mappings":"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"}