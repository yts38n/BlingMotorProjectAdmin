{"version":3,"file":"all.js","names":["Calendar","data","state","current","Date","days","dataYear","parseInt","dataMonth","dataDates","render","setHours","calendar","document","getElementById","innerHTML","calendarMonthPickers","createElement","className","preMonth","nextMonth","currentMonth","textContent","appendChild","calendarWrap","dayWrapper","dateWrapper","firstDate","dateForLoop","getFullYear","getMonth","setDate","getDate","getDay","day","renderDay","renderDate","renderSelectDates","cell","innerText","date","currentDate","dataset","getTime","classList","add","undefined","querySelector","addEventListener","e","target","search","dateInnersSelected","remove","timestamp","parentNode","showSelectedDate","formatDate","value","setMonth","currentQueryYear","currentQueryMonth","blingMotorUserStatus","recordUserStatus","userInfo","localStorage","setItem","JSON","stringify","checkLogin","blingMotorUserInfo","getItem","parse","location","pathname","alert","replace","renderNavbar","customiseNavMenu","userLogout","clear","calanderEventListeners","getCalendarCallback","targetYear","targetMonth"],"sources":["all.js"],"sourcesContent":["class Calendar {\r\n    constructor(data) {\r\n        this.state = {\r\n            current: new Date()\r\n        };\r\n        this.days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\r\n        this.data = data;\r\n        this.dataYear = parseInt(data['year']);\r\n        this.dataMonth = parseInt(data['month']) - 1; //Date 物件的 Month 起始值為0\r\n        this.dataDates = data['dates'];\r\n        this.render();\r\n    }\r\n\r\n    render() {\r\n        // 設定系統日期為當日的00:00:00\r\n        this.state.current.setHours(0, 0, 0, 0);\r\n\r\n        // 初始化 calendar\r\n        let calendar = document.getElementById('calendar');\r\n        calendar.innerHTML = '';\r\n\r\n        /* --- 開始 --- 渲染 calendarMonthPickers (顯示當前月份+月份選擇元素)*/\r\n        let calendarMonthPickers = document.createElement('div');\r\n        calendarMonthPickers.className = 'calendarMonthPickers';\r\n        let preMonth = document.createElement('span');\r\n        preMonth.className = 'material-symbols-outlined preMonth';\r\n        let nextMonth = document.createElement('span');\r\n        nextMonth.className = 'material-symbols-outlined nextMonth';\r\n        let currentMonth = document.createElement('h3');\r\n        currentMonth.className = 'calendarMonth-Current';\r\n\r\n        currentMonth.textContent = `${this.data[\"year\"]} / ${this.data[\"month\"]}`;\r\n        preMonth.textContent = `arrow_back_ios`;\r\n        nextMonth.textContent = `arrow_forward_ios`;\r\n\r\n        calendarMonthPickers.appendChild(preMonth);\r\n        calendarMonthPickers.appendChild(currentMonth);\r\n        calendarMonthPickers.appendChild(nextMonth);\r\n        /*  --- 結束 --- 渲染 calendarMonthPickers (顯示當前月份+月份選擇元素)*/\r\n\r\n        /* --- 開始 --- 渲染 calendar-inner 內容 */\r\n        let calendarWrap = document.createElement('div');\r\n        calendarWrap.className = 'calendar-inner';\r\n        let dayWrapper = document.createElement('div');\r\n        dayWrapper.className = 'row row-cols-7 dayWrapper';\r\n        let dateWrapper = document.createElement('div');\r\n        dateWrapper.className = 'row row-cols-7 dateWrapper';\r\n\r\n        //取得 data 的當月1號\r\n        let firstDate = new Date(this.dataYear, this.dataMonth);\r\n\r\n        //先new一個當月1號的物件用作計算日期(loop+1)，避免Date指向同一個物件\r\n        let dateForLoop = new Date(firstDate.getFullYear(), firstDate.getMonth())\r\n\r\n        //設定日歷的第一個禮拜日是上個月的幾號\r\n        dateForLoop.setDate(dateForLoop.getDate() - dateForLoop.getDay());\r\n\r\n        //畫出禮拜幾\r\n        for (let day of this.days) {\r\n            this.renderDay(day, dayWrapper);\r\n        }\r\n\r\n        //畫出上個月\r\n        while (dateForLoop < firstDate) {\r\n            this.renderDate(dateForLoop, dateWrapper);\r\n            dateForLoop.setDate(dateForLoop.getDate() + 1);\r\n        }\r\n\r\n        //畫出這個月 (目前date已是本月的1號)，如果date的月份是當月，就畫格子。date的月份變成下一個月，就停止畫。\r\n        while (dateForLoop.getMonth() === firstDate.getMonth()) {\r\n            this.renderDate(dateForLoop, dateWrapper)\r\n            dateForLoop.setDate(dateForLoop.getDate() + 1);\r\n        }\r\n\r\n        //畫出下個月 (目前date 是下個月的1號)。只要還沒到禮拜六，就繼續畫。\r\n        while (dateForLoop.getDay() !== 0) {\r\n            this.renderDate(dateForLoop, dateWrapper)\r\n            dateForLoop.setDate(dateForLoop.getDate() + 1);\r\n        }\r\n\r\n        //寫入 calendarWrap\r\n        calendarWrap.appendChild(dayWrapper);\r\n        calendarWrap.appendChild(dateWrapper);\r\n        /* --- 結束 --- 渲染 calendar-inner 內容 */\r\n\r\n        //寫入 calendar\r\n        calendar.appendChild(calendarMonthPickers);\r\n        calendar.appendChild(calendarWrap);\r\n\r\n        //監聽選取日期行為\r\n        this.renderSelectDates()\r\n    }\r\n\r\n    renderDay(day, dayWrapper) {\r\n        let cell = document.createElement('div');\r\n        cell.className = 'dayInners';\r\n        cell.innerText = day;\r\n        dayWrapper.appendChild(cell);\r\n    }\r\n\r\n    renderDate(date, dateWrapper) {\r\n        let currentDate = this.state.current;\r\n\r\n        let cell = document.createElement('div');\r\n        cell.className = 'dateInners';\r\n        cell.dataset[\"date\"] = date.getTime();\r\n        cell.textContent = date.getDate()\r\n\r\n        //今日以前的日期、非當月日期改成白色\r\n        if (date < currentDate || date.getMonth() !== this.dataMonth) {\r\n            cell.classList.add('notAvailable')\r\n        }\r\n\r\n        //可預約數量為0時，顯示紅色背景色\r\n        if (this.dataDates[date.getTime()] !== undefined) {\r\n            cell.className += (date >= currentDate && date.getMonth() === this.dataMonth && this.dataDates[date.getTime()]['available'] === true && this.dataDates[date.getTime()]['spaces'] === 0) ? ' dateFull' : '';\r\n        }\r\n\r\n        dateWrapper.appendChild(cell);\r\n    }\r\n\r\n    renderSelectDates() {\r\n        document.querySelector('.dateWrapper').addEventListener('click', (e) => {\r\n            if ((e.target.className.search(/dateFull/) === -1 && e.target.className.search(/notAvailable/) === -1)) {\r\n\r\n                //移除已選項目的 border-color\r\n                let dateInnersSelected = document.querySelector('.dateInners-selected');\r\n                if (dateInnersSelected !== null) {\r\n                    dateInnersSelected.classList.remove('dateInners-selected');\r\n                }\r\n                //新增現有項目的 border-color\r\n                e.target.className += ' dateInners-selected'\r\n\r\n                //顯示現有項目的日期\r\n                let timestamp = '';\r\n                if (e.target.dataset.date === undefined) {\r\n                    timestamp = e.target.parentNode.dataset.date;\r\n                } else {\r\n                    timestamp = e.target.dataset.date;\r\n                }\r\n                showSelectedDate(timestamp);\r\n            } else {\r\n                return;\r\n            };\r\n\r\n            function showSelectedDate(timestamp) {\r\n                let date = new Date(parseInt(timestamp));\r\n                let formatDate = `${date.getFullYear()} / ${date.getMonth() + 1} / ${date.getDate()}`;\r\n                if (document.querySelector('#selectedDate') !== null) {\r\n                    document.querySelector('#selectedDate').value = formatDate;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    preMonth() {\r\n        this.state.current.setMonth(this.state.current.getMonth() - 1);\r\n        this.render();\r\n    }\r\n\r\n    nextMonth() {\r\n        this.state.current.setMonth(this.state.current.getMonth() + 1);\r\n        this.render();\r\n    }\r\n}\r\n\r\nlet currentQueryYear = new Date().getFullYear();\r\nlet currentQueryMonth = new Date().getMonth() + 1;\r\n\r\nlet blingMotorUserStatus = {\r\n    'isLogin': false,\r\n    'userInfo': {}\r\n};\r\n\r\nfunction recordUserStatus(userInfo) {\r\n    blingMotorUserStatus['isLogin'] = true;\r\n    blingMotorUserStatus['userInfo'] = userInfo;\r\n    localStorage.setItem('blingMotorUserInfo', JSON.stringify(blingMotorUserStatus['userInfo']));\r\n}\r\n\r\nfunction checkLogin() {\r\n    if (blingMotorUserStatus['isLogin'] === false) {\r\n        let blingMotorUserInfo = localStorage.getItem('blingMotorUserInfo');\r\n        if (blingMotorUserInfo !== null) {\r\n            blingMotorUserStatus['isLogin'] = true;\r\n            blingMotorUserStatus['userInfo'] = JSON.parse(blingMotorUserInfo);\r\n        } else {\r\n            if (location.pathname !== 'login.html') {\r\n                alert('請先登入!!')\r\n                location.replace('login.html');\r\n            }\r\n        }\r\n    }\r\n    renderNavbar();\r\n}\r\n\r\nfunction renderNavbar() {\r\n    let customiseNavMenu = document.querySelector('#customiseNavMenu');\r\n    if (blingMotorUserStatus['isLogin'] === true) {\r\n        customiseNavMenu.innerHTML = `\r\n        <li>\r\n            <a class=\"nav-link\" href=\"reservationList.html\">所有預約</a>\r\n        </li>\r\n        <li>\r\n            <a class=\"nav-link\" href=\"calendarControl.html\">預約開關</a>\r\n        </li>\r\n        <li>\r\n            <a class=\"nav-link\" href=\"userInfo.html\">商家資料</a>\r\n        </li>\r\n        <li>\r\n            <a class=\"btn btn-logout\" href=\"#\">登出</a>\r\n        </li>\r\n        `\r\n        document.querySelector('.btn-logout').addEventListener('click', userLogout);\r\n    } else {\r\n        customiseNavMenu.innerHTML = ``;\r\n    }\r\n\r\n}\r\n\r\nfunction userLogout() {\r\n    if (blingMotorUserStatus['isLogin'] === true) {\r\n        localStorage.clear();\r\n        blingMotorUserStatus['isLogin'] = false;\r\n        blingMotorUserStatus['userInfo'] = {}\r\n    }\r\n    location.replace('login.html');\r\n}\r\n\r\nfunction calanderEventListeners(getCalendarCallback) {\r\n    document.querySelector('.preMonth').addEventListener('click', () => {\r\n        let targetYear = 0;\r\n        let targetMonth = 0;\r\n\r\n        if (currentQueryMonth - 1 === 0) {\r\n            targetYear = currentQueryYear - 1;\r\n            targetMonth = 12;\r\n        } else {\r\n            targetYear = currentQueryYear;\r\n            targetMonth = currentQueryMonth - 1;\r\n        }\r\n        getCalendarCallback(targetYear, targetMonth)\r\n    });\r\n\r\n    document.querySelector('.nextMonth').addEventListener('click', () => {\r\n        let targetYear = 0;\r\n        let targetMonth = 0;\r\n\r\n        if (currentQueryMonth + 1 === 13) {\r\n            targetYear = currentQueryYear + 1;\r\n            targetMonth = 1;\r\n        } else {\r\n            targetYear = currentQueryYear;\r\n            targetMonth = currentQueryMonth + 1;\r\n        }\r\n        getCalendarCallback(targetYear, targetMonth)\r\n    });\r\n}\r\n\r\ncheckLogin();"],"mappings":"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"}